## 의존 역전 원칙

**고수준 모듈, 저수준 모듈**

- 고수준 모듈
  - 단일 기능을 제공하는 모듈
    - Ex. 가격 할인 계산
- 저수준 모듈
  - 고수준 모듈의 기능을 구현하기 위해 필요한 하위 기능을 실제 구현
  - 구현체라 생각
  - Infrastruction Layer에 해당됨.



**고수준 모듈의 의존 문제**

- 고수준 모듈이 저수준 모듈을 의존
- 저수준 모듈의 구현 방식이 변경되면 고수준 모듈이 코드가 변경되는 상황이 발생.



**DIP**

- 고수준 모듈의 단점을 해결하기 위해 등장
  - 저수준 모듈이 고수준 모듈을 의존하도록 바꿈.
- App Layer -> Infra Layer, App Layer -> Infra Layer가 아니라
- App Layer <- Infra Layer, App Layer <- Infra Layer가 됨.
- 구현에 관련된 건 관심이 없고 내가 알고 있는 즉, 메소드만 보고 사용하겠다.



**육각형, 양파, 클린 아키텍쳐**

- 나의 도메인 모델을 외부 환경에서부터 지키는 것이 가장 중요
- 저수준이 고수준 모듈을 의존하면서 해당 아키텍쳐가 탄생
- 바깥 껍질이 무엇이 됐든 안쪽 껍질은 몰라도 된다.
  - 니 할 일을 해라
- 외부가 변경되었을 때, entity의 변경이 최소화될 수 있도록 하는 것이 클린 아키텍쳐의 중요역할



